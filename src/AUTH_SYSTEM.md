# üîê –°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—ó –∞–¥–º—ñ–Ω –ø–∞–Ω–µ–ª—ñ

## –û–≥–ª—è–¥

–°–∏—Å—Ç–µ–º–∞ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î –ø—Ä–æ—Å—Ç–∏–π –ø–∞—Ä–æ–ª—å –¥–ª—è –∑–∞—Ö–∏—Å—Ç—É –∞–¥–º—ñ–Ω –ø–∞–Ω–µ–ª—ñ. –í—Å—ñ API –∑–∞–ø–∏—Ç–∏ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å—Å—è –Ω–∞ —Å–µ—Ä–≤–µ—Ä—ñ.

## –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∏–π –ø–∞—Ä–æ–ª—å

```
admin123
```

## –Ø–∫ —Ü–µ –ø—Ä–∞—Ü—é—î

### 1. –í—Ö—ñ–¥ –≤ —Å–∏—Å—Ç–µ–º—É

- –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á –≤–≤–æ–¥–∏—Ç—å –ø–∞—Ä–æ–ª—å –Ω–∞ —Å—Ç–æ—Ä—ñ–Ω—Ü—ñ `/admin`
- –ü–∞—Ä–æ–ª—å –∑–±–µ—Ä—ñ–≥–∞—î—Ç—å—Å—è –≤ `sessionStorage` —Ç–∞ React state
- –°–∏—Å—Ç–µ–º–∞ –ù–ï –ø–µ—Ä–µ–≤—ñ—Ä—è—î –ø–∞—Ä–æ–ª—å –Ω–∞ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥—ñ - —Ü–µ –ª–∏—à–µ –∑–±–µ—Ä—ñ–≥–∞–Ω–Ω—è

### 2. API –∑–∞–ø–∏—Ç–∏

- –ö–æ–∂–µ–Ω –∑–∞—Ö–∏—â–µ–Ω–∏–π API endpoint –æ—Ç—Ä–∏–º—É—î –ø–∞—Ä–æ–ª—å —á–µ—Ä–µ–∑:
  - `X-Admin-Password` header (–¥–ª—è GET/DELETE –∑–∞–ø–∏—Ç—ñ–≤)
  - `password` –ø–æ–ª–µ –≤ body (–¥–ª—è POST/PUT/PATCH –∑–∞–ø–∏—Ç—ñ–≤)
- –°–µ—Ä–≤–µ—Ä –ø–µ—Ä–µ–≤—ñ—Ä—è—î –ø–∞—Ä–æ–ª—å –∑ –∫–æ–Ω—Å—Ç–∞–Ω—Ç–æ—é `ADMIN_PASSWORD` –≤ `/supabase/functions/server/index.tsx`

### 3. –ü–æ–º–∏–ª–∫–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—ó (401)

–Ø–∫—â–æ –ø–∞—Ä–æ–ª—å –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–∏–π:

1. **API –ø–æ–≤–µ—Ä—Ç–∞—î**: `{"success": false, "error": "Unauthorized"}` –∑ HTTP 401
2. **–§—Ä–æ–Ω—Ç–µ–Ω–¥ –æ–±—Ä–æ–±–ª—è—î**:
   - –†–æ–∑–ø—ñ–∑–Ω–∞—î 401 —è–∫ `UnauthorizedError`
   - –ü–æ–∫–∞–∑—É—î –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—É
   - –í–∏–∫–ª–∏–∫–∞—î event `unauthorized`
3. **AdminPanel —Å–ª—É—Ö–∞—î**:
   - –û—Ç—Ä–∏–º—É—î event
   - –ü–æ–∫–∞–∑—É—î toast –∑ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è–º
   - –ß–µ—Ä–µ–∑ 1 —Å–µ–∫—É–Ω–¥—É —Ä–æ–∑–ª–æ–≥–æ–≤—É—î –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞
   - –û—á–∏—â–∞—î sessionStorage
   - –ü–æ–≤–µ—Ä—Ç–∞—î –Ω–∞ –µ–∫—Ä–∞–Ω –≤—Ö–æ–¥—É –∑ –ø—ñ–¥–∫–∞–∑–∫–æ—é

### 4. –í—ñ–∑—É–∞–ª—å–Ω—ñ –ø–æ–∫—Ä–∞—â–µ–Ω–Ω—è

–ü—Ä–∏ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ–º—É –ø–∞—Ä–æ–ª—ñ:

- üîí –Ü–∫–æ–Ω–∫–∞ –∑–∞–º–∫—É —Å—Ç–∞—î —á–µ—Ä–≤–æ–Ω–æ—é
- üì¢ –ß–µ—Ä–≤–æ–Ω–µ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –ø—Ä–æ –ø–æ–º–∏–ª–∫—É
- üé≠ Shake –∞–Ω—ñ–º–∞—Ü—ñ—è —ñ–∫–æ–Ω–∫–∏
- üí° –ü—ñ–¥–∫–∞–∑–∫–∞ –∑—ñ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∏–º –ø–∞—Ä–æ–ª–µ–º
- ‚è±Ô∏è –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ –ø–µ—Ä–µ—Å–ø—Ä—è–º—É–≤–∞–Ω–Ω—è —á–µ—Ä–µ–∑ 1 —Å–µ–∫

## –Ø–∫ –∑–º—ñ–Ω–∏—Ç–∏ –ø–∞—Ä–æ–ª—å

### –ú–µ—Ç–æ–¥ 1: –í –∫–æ–¥—ñ —Å–µ—Ä–≤–µ—Ä–∞ (—Ä–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–æ –¥–ª—è production)

1. –í—ñ–¥–∫—Ä–∏–π—Ç–µ `/supabase/functions/server/index.tsx`
2. –ó–Ω–∞–π–¥—ñ—Ç—å —Ä—è–¥–æ–∫:
   ```typescript
   const ADMIN_PASSWORD = "admin123";
   ```
3. –ó–º—ñ–Ω—ñ—Ç—å –Ω–∞ —Å–≤—ñ–π –ø–∞—Ä–æ–ª—å:
   ```typescript
   const ADMIN_PASSWORD = "–ú—ñ–π–°—É–ø–µ—Ä$–µ–∫—Ä–µ—Ç–Ω–∏–π–ü–∞—Ä–æ–ª—å123";
   ```
4. –ó–±–µ—Ä–µ–∂—ñ—Ç—å —Ñ–∞–π–ª - Edge Function –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –ø–µ—Ä–µ–∑–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç—å—Å—è

### –ú–µ—Ç–æ–¥ 2: –ß–µ—Ä–µ–∑ –∑–º—ñ–Ω–Ω—É —Å–µ—Ä–µ–¥–æ–≤–∏—â–∞ (–Ω–∞–π–±—ñ–ª—å—à –±–µ–∑–ø–µ—á–Ω–æ)

1. –í Supabase Dashboard ‚Üí Settings ‚Üí Edge Functions ‚Üí Environment Variables
2. –î–æ–¥–∞–π—Ç–µ –∑–º—ñ–Ω–Ω—É `ADMIN_PASSWORD` –∑ –≤–∞—à–∏–º –ø–∞—Ä–æ–ª–µ–º
3. –û–Ω–æ–≤—ñ—Ç—å –∫–æ–¥ —Å–µ—Ä–≤–µ—Ä–∞:
   ```typescript
   const ADMIN_PASSWORD = Deno.env.get("ADMIN_PASSWORD") || "admin123";
   ```

## –ë–µ–∑–ø–µ–∫–∞

‚ö†Ô∏è **–í–ê–ñ–õ–ò–í–û –¥–ª—è production:**

1. **–ó–∞–≤–∂–¥–∏ –∑–º—ñ–Ω—é–π—Ç–µ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∏–π –ø–∞—Ä–æ–ª—å** –≤ production —Å–µ—Ä–µ–¥–æ–≤–∏—â—ñ
2. –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ —Å–∫–ª–∞–¥–Ω–∏–π –ø–∞—Ä–æ–ª—å (–º—ñ–Ω—ñ–º—É–º 12 —Å–∏–º–≤–æ–ª—ñ–≤, –±—É–∫–≤–∏, —Ü–∏—Ñ—Ä–∏, —Å–∏–º–≤–æ–ª–∏)
3. –ù–µ –∑–±–µ—Ä—ñ–≥–∞–π—Ç–µ –ø–∞—Ä–æ–ª—å –≤ git —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ—ó (–≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ env variables)
4. –†–æ–∑–≥–ª—è–Ω—å—Ç–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è Supabase Auth –¥–ª—è –±—ñ–ª—å—à –Ω–∞–¥—ñ–π–Ω–æ—ó –∞–≤—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—ó
5. –î–æ–¥–∞–π—Ç–µ rate limiting –¥–ª—è –∑–∞—Ö–∏—Å—Ç—É –≤—ñ–¥ brute force –∞—Ç–∞–∫

## –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è

### –ü—Ä–∞–≤–∏–ª—å–Ω–∏–π –ø–∞—Ä–æ–ª—å:
```
admin123
```
‚úÖ –£—Å–ø—ñ—à–Ω–∏–π –≤—Ö—ñ–¥ ‚Üí –î–æ—Å—Ç—É–ø –¥–æ –≤—Å—ñ—Ö —Ñ—É–Ω–∫—Ü—ñ–π –∞–¥–º—ñ–Ω –ø–∞–Ω–µ–ª—ñ

### –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–∏–π –ø–∞—Ä–æ–ª—å:
```
wrongpassword
```
‚ùå –ü–æ–º–∏–ª–∫–∞ 401 ‚Üí –ü–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –ø—Ä–æ –ø–æ–º–∏–ª–∫—É ‚Üí –†–æ–∑–ª–æ–≥—ñ–Ω–µ–Ω–Ω—è ‚Üí –ï–∫—Ä–∞–Ω –≤—Ö–æ–¥—É

## –õ–æ–≥–∏

–°–∏—Å—Ç–µ–º–∞ –ª–æ–≥—É—î –≤—Å—ñ —Å–ø—Ä–æ–±–∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—ó –≤ –∫–æ–Ω—Å–æ–ª—å:

```
‚úÖ Auth check successful
‚ùå Auth check failed: Invalid password. Got: "test123", Expected: "admin123"
```

–ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞ (F12) —Ç–∞ –ª–æ–≥–∏ Edge Function –≤ Supabase Dashboard –¥–ª—è –¥—ñ–∞–≥–Ω–æ—Å—Ç–∏–∫–∏.

## –ü–æ–∫—Ä–∞—â–µ–Ω–Ω—è –¥–ª—è –º–∞–π–±—É—Ç–Ω—å–æ–≥–æ

- [ ] Supabase Auth (email/password)
- [ ] 2FA (two-factor authentication)
- [ ] –°–µ—Å—ñ—ó –∑ expiration
- [ ] Rate limiting
- [ ] Audit logs (—Ö—Ç–æ, –∫–æ–ª–∏, —â–æ –∑–º—ñ–Ω–∏–≤)
- [ ] –†–æ–ª—ñ —Ç–∞ –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø—É (admin, editor, viewer)
